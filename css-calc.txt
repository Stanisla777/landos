// Определяю позиционирование для короткого текста
if (tooltip.classList.contains('location-side')) {
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;
  const offset = 10; // отступ от иконки
  
  // Основное позиционирование - зависит от положения иконки относительно середины экрана
  if (viewportWidth / 2 < centerX) {
    // Иконка правее середины → тултип слева от иконки
    // Проверяем, что тултип не вылезает за левый край
    if (rect.left - tooltipWidth - offset >= 0) {
      // Помещается слева → показываем слева
      tooltip.style.right = `${viewportWidth - rect.left + offset}px`;
      tooltip.classList.add('left');
      tooltip.classList.remove('right');
    } else {
      // Не помещается слева → показываем справа
      tooltip.style.left = `${rect.right + offset}px`;
      tooltip.classList.add('right');
      tooltip.classList.remove('left');
    }
  } else {
    // Иконка левее середины → тултип справа от иконки
    // Проверяем, что тултип не вылезает за правый край
    if (rect.right + tooltipWidth + offset <= viewportWidth) {
      // Помещается справа → показываем справа
      tooltip.style.left = `${rect.right + offset}px`;
      tooltip.classList.add('right');
      tooltip.classList.remove('left');
    } else {
      // Не помещается справа → показываем слева
      tooltip.style.right = `${viewportWidth - rect.left + offset}px`;
      tooltip.classList.add('left');
      tooltip.classList.remove('right');
    }
  }
  
  // Вертикальное позиционирование (по центру иконки)
  tooltip.style.top = `${centerY - tooltipHeight / 2}px`;
  tooltip.classList.remove('up', 'down');
  
  return;
}
