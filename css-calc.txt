const isTouchDevice = () => {
    // Стандартная проверка на touch-устройство
    const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
    
    // Проверка на эмуляцию мобильного устройства в DevTools
    const isDeviceToolbarActive = () => {
      // Способ 1: Проверка userAgent на наличие эмуляции
      const userAgent = navigator.userAgent.toLowerCase();
      const isEmulated = userAgent.includes('mobile') || 
                         userAgent.includes('android') || 
                         userAgent.includes('iphone') || 
                         userAgent.includes('ipad');
      
      // Способ 2: Проверка размеров экрана и соотношения сторон
      const isMobileSize = window.innerWidth <= 1024 && window.innerHeight <= 1024;
      const isPortrait = window.innerHeight > window.innerWidth;
      
      // Способ 3: Проверка на наличие определенных свойств, которые появляются при эмуляции
      const hasDeviceEmulation = navigator.platform === 'Linux armv8l' || 
                                navigator.platform === 'Linux armv7l' ||
                                (navigator.platform === 'Win32' && window.innerWidth <= 768);
      
      return (isEmulated && isMobileSize) || hasDeviceEmulation || 
             (hasTouch && isMobileSize && isPortrait);
    };
    
    return hasTouch || isDeviceToolbarActive();
  };

  // Функция для определения iOS устройств
  const isIOS = () => {
    return (/(iPad|iPhone|iPod)/.test(navigator.userAgent) && !window.MSStream) || 
           (navigator.userAgent.includes('Mac') && 'ontouchend' in document) ||
           ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod']
             .includes(navigator.platform);
  };

  // Основная проверка - используем touch события для touch устройств ИЛИ при эмуляции
  if (isTouchDevice() || isIOS()) {
