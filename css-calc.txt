// Определяю позиционирование для короткого текста
if (tooltip.classList.contains('location-side')) {
  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;
  const offset = 10; // отступ от иконки
  const minMargin = 100; // минимальный отступ от края экрана

  // Горизонтальное позиционирование
  // Если тултип не помещается справа ИЛИ справа остаётся меньше 100px свободного места
  if (centerX + tooltipWidth + offset > viewportWidth - minMargin) {
    // Тултип слева от иконки
    tooltip.style.right = `${viewportWidth - rect.left + offset}px`;
    tooltip.classList.add('left');
    tooltip.classList.remove('right');
  } else {
    // Тултип справа от иконки
    tooltip.style.left = `${rect.right + offset}px`;
    tooltip.classList.add('right');
    tooltip.classList.remove('left');
  }

  // Вертикальное позиционирование (по центру)
  tooltip.style.top = `${centerY - tooltipHeight / 2}px`;
  tooltip.classList.remove('up', 'down');

  return;
}
