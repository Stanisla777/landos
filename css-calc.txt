function fullnessFieldToActiveButton() {
  const forms = document.querySelectorAll('.js--fullness-field');

  forms.forEach(form => {
    // Все обязательные поля (включая hidden от селектов)
    const requiredFields = form.querySelectorAll('[required]');
    const submitButton = form.querySelector('.js--button-status-form');

    if (requiredFields.length === 0) {
      // Форма без обязательных полей — считаем ошибкой, кнопка неактивна
      submitButton.classList.add('disabled');
      console.warn('Форма без обязательных полей:', form);
      return;
    }

    const isFieldFilled = (field) => {
      if (field.type === 'checkbox' || field.type === 'radio') {
        return field.checked;
      }
      // Для всех остальных: input (включая hidden), textarea и т.п.
      return field.value.trim() !== '';
    };

    const updateButtonState = () => {
      const allFilled = Array.from(requiredFields).every(isFieldFilled);
      if (allFilled) {
        submitButton.classList.remove('disabled');
      } else {
        submitButton.classList.add('disabled');
      }
    };

    // Навешиваем обработчики на все обязательные поля
    requiredFields.forEach(field => {
      // Для чекбоксов и радио — событие 'change'
      // Для текстовых полей и hidden — тоже 'change', потому что кастомный селект
      // должен программно вызывать .dispatchEvent(new Event('change')) при выборе
      field.addEventListener('change', updateButtonState);

      // Дополнительно для текстовых полей можно слушать 'input', но для hidden это не нужно
      if (field.tagName === 'INPUT' && !['checkbox', 'radio', 'hidden'].includes(field.type)) {
        field.addEventListener('input', updateButtonState);
      }
      if (field.tagName === 'TEXTAREA') {
        field.addEventListener('input', updateButtonState);
      }
    });

    // Инициализация состояния кнопки
    updateButtonState();
  });
}
