exportToPDF() {
      const px = (value) => value *0.75;
      this.isPdfLoading = true;
      registerGilroy(pdfMake)
      const ri = this.repayment_information;
      const hasEarlierMonth = this.repayment_information&&this.repayment_information.if_earlier_month > 0;
      // –ü–æ–¥–±–∏—Ä–∞–µ–º –≤—ã—Å–æ—Ç—É –¥–ª—è –±–ª–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –æ –∫—Ä–µ–¥–∏—Ç–µ –≤ –∑–∞–≤–∏—Å–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–µ —Ä–∞–Ω—å—à–µ –Ω–∞ –∏–ª–∏ –Ω–µ—Ç
      const repaymentHeight = hasEarlierMonth ? 250 : 232;

      setTimeout(() => {
        const docDefinition = {
          pageSize: 'A4',
          pageMargins: [40, 30, 40, 40], //// [left, top, right, bottom]
          content: [
            {
              columns: [
                {
                  stack: [
                    { text: '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä', style: 'headerTitle' },
                    {
                      text: '–¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è',
                      background: '#daff01',
                      style: 'headerTitleHighlighted'
                    },
                    { text: '–∏–ø–æ—Ç–µ–∫–∏', style: 'headerTitle' }
                  ]
                },
                {
                  image: 'logo',
                  width: 104,
                  alignment: 'right'
                }
              ],
              margin: [0, 0, 0, this.converPx(15)]
            },
            {
              columns: [
                {
                  text: `–†–∞—Å—á–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π –æ—Ç ${this.currentDate}`,
                  style: 'metaText',
                  width: '*'
                },
                {
                  text: '–°–¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç',
                  link: 'https://xn--h1alcedd.xn--d1aqf.xn--p1ai/calculators/kalkulyator-dosrochnogo-pogasheniya-ipoteki/',
                  style: 'link',
                  width: 'auto',
                  alignment: 'right'
                }
              ],
              margin: [0, 0, 0, this.converPx(16)]
            },

            this.createInfoBlock('–†–∞—Å—á–µ—Ç –Ω–æ—Å–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π'),

            this.createSectionBox(this.createMortgageSection(), 278),
//          this.createSectionBox(this.createRepaymentSection(), 255),
            this.createSectionBox(this.createRepaymentSection(), repaymentHeight),
            (this.holidays_term && this.holidays_term !== 0)
              ? this.createSectionBox(this.createHolidaysSection(), 155)
              : {},

            // –û—Ç—Å—Ç—É–ø –ø–æ—Å–ª–µ –∫–∞–Ω–∏–∫—É–ª
            (this.holidays_term && this.holidays_term !== 0)
              ? { text: '', margin: [0, 0, 0, 50] }
              : {},

            // –ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π
            {
              stack: [
                { text: '–ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π', style: 'sheduleTitle' },
                this.createSheduleBlocks()
              ],
              margin: [this.converPx(16), this.converPx(32 - 16), 0, 16]
            }
          ],


          images: {
            logo: logoBase64,
            iconSymbol: iconSymbolBase64
          },

          styles: {
            headerTitle: { fontSize: this.converPx(22), bold: true, color: '#252628' },
            headerTitleHighlighted: { fontSize: this.converPx(22), bold: true, color: '#252628' },
            metaText: { fontSize: this.converPx(16),bold: true, color: '#252628' },
            link: { fontSize: this.converPx(14), color: '#252628', decoration: 'underline' },
            infoText: { fontSize: this.converPx(14), color: '#252628',lineHeight:1.4 },
            sectionTitle: { fontSize: this.converPx(20), bold: true, color: '#252628', margin: [0, 0, 0, this.converPx(24)] },
            sectionTitleRepayment: { fontSize: this.converPx(20), bold: true, color: '#252628', margin: [0, 0, 0, this.converPx(16)] },
            label: { fontSize: this.converPx(16), bold: true, color: '#252628', margin: [0, 0, 0, this.converPx(8)] },
            labelGrey: { fontSize: this.converPx(14), bold: true, color: '#6d6d6d', margin: [0, 0, 0, this.converPx(8)] },
            mortgageValue: { fontSize: this.converPx(14), bold: true, color: '#252628' },
            repaymentValue: { fontSize: this.converPx(16), bold: true, color: '#252628', margin: [0, 0, 0, 0] },
            repaymentValueGreen: { fontSize: this.converPx(12), color: '#699b12', margin: [0, 0, 0, 0] },
            repaymentValueGreenKey: { fontSize: this.converPx(16), bold: true, color: '#699b12', margin: [0, 0, 0, 0] },
            valueInline: { fontSize: this.converPx(14), color: '#252628' },
            valueNoMargin: { fontSize: this.converPx(16), bold: true, color: '#252628', margin: [0, 0, 0, 2] },

            // –°—Ç–∏–ª–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
            sheduleTitle: {
              fontSize: this.converPx(20),
              bold: true,
              color: '#252628',
              margin: [0, 0, 0, this.converPx(16)]
            },
            sheduleItemLabel: {
              fontSize: this.converPx(12),
              color: '#6d6d6d',
              margin: [0, 0, 0, 5]
            },
            sheduleItemValue: {
              fontSize: this.converPx(14),
              color: '#252628'
            },
            sheduleItemValueDate: {
              fontSize: this.converPx(16),
              color: '#252628',
              bold: true,
            },

            holidayBadge: {
              fontSize: 10,
              color: '#fff',
              background: '#252628',
              padding: [2, 8, 2, 8],
              margin: [0, 0, 12, 0]
            },
            holidayValue: {
              fontSize: this.converPx(14),
              color: '#252628',
              margin: [0, 0, 0, 0]
            },
            holidayBadgeText: {
              fontSize: this.converPx(12),
              color: '#fff',
              margin: [0, 0, 0, 0] // –æ—Ç—Å—Ç—É–ø—ã –∑–∞–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é
            }
          },

          defaultStyle: {
            font: 'Gilroy',
            fontSize: 10,
          }
        };
        const pdfDoc = pdfMake.createPdf(docDefinition);

        pdfDoc.download('—Ä–∞—Å—á—ë—Ç-–∏–ø–æ—Ç–µ–∫–∏.pdf', () => {
          this.isPdfLoading = false;
        });
      }, 300);

    },

    // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –ú–ï–¢–û–î–´ ===

    // –ò–∫–æ–Ω–∫–∞: –±–µ–ª—ã–π –∫—Ä—É–≥ + —á—ë—Ä–Ω—ã–π —Å–∏–º–≤–æ–ª

    createIconBlock() {
      const size = 40;
      const iconSize = 15;
      return {
        stack: [
          {
            canvas: [
              {
                type: 'ellipse',
                x: size / 2,
                y: size / 2,
                r1: size / 2,
                r2: size / 2,
                color: '#ffffff'
              }
            ],
            margin: [0, 0, 0, -size]
          },
          {
            image: 'iconSymbol',
            width: iconSize,
            height: iconSize,
            alignment: 'center',
            margin: [0, (size - iconSize) / 2, 0, (size - iconSize) / 2]
          }
        ],
        width: size,
        height: size
      };
    },

    // –ë–ª–æ–∫ "–†–∞—Å—á—ë—Ç –Ω–æ—Å–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä"

    createInfoBlock(text) {
      const padding = this.converPx(16);
      const blockHeight = this.converPx(86);
      return {
        stack: [
          {
            canvas: [
              {
                type: 'rect',
                x: 0,
                y: 0,
                w: 515,
                h: blockHeight,
                r: 8,
                color: '#f4f4f4'
              }
            ],
            margin: [0, 0, 0, -blockHeight]
          },
          {
            columns: [
              {
                width: 'auto',
                stack: [this.createIconBlock()],
                margin: [padding, padding, padding, padding]
              },
              {
                width: '*',
                stack: [{
                  text: text,
                  style: 'infoText',
                  margin: [0, 8, 0, 0]
                }],
                margin: [0, padding, padding, padding]
              }
            ]
          }
        ],
        margin: [0, 0, 0, this.converPx(14)]
      };
    },

    // –†–∞–º–∫–∞ —Å –∑–∞–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏

    createSectionBox(content, heightInPx) {
      const padding = this.converPx(16);
      const blockHeight = heightInPx * 0.75;
      const borderWidth = 1;
      const borderColor = '#c8c8cb';
      const borderRadius = 8;

      return {
        stack: [
          {
            canvas: [
              {
                type: 'rect',
                x: 0,
                y: 0,
                w: 515,
                h: blockHeight,
                r: borderRadius,
                lineWidth: borderWidth,
                lineColor: borderColor
              }
            ],
            margin: [0, 0, 0, -blockHeight]
          },
          {
            ...content,
            margin: [padding, padding, padding, padding]
          }
        ],
        margin: [0, 0, 0, this.converPx(16)] //–æ—Ç—Å—Ç—É–ø –Ω–∏–∂–Ω–∏–π –æ—Ç —Å–µ–∫—Ü–∏–∏
      };
    },

    // –ü–æ–ª–Ω–∞—è —Å–µ–∫—Ü–∏—è "–î–∞–Ω–Ω—ã–µ –æ–± –∏–ø–æ—Ç–µ–∫–µ" (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–æ–Ω—Ç–µ–Ω—Ç)

    createMortgageSection() {
      return {
        stack: [
          { text: '–î–∞–Ω–Ω—ã–µ –æ–± –∏–ø–æ—Ç–µ–∫–µ', style: 'sectionTitle' },
          this.createMortgageBlock()
        ]
      };
    },

    // –ü–æ–ª–Ω–∞—è —Å–µ–∫—Ü–∏—è "–î–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–∞—à–µ–Ω–∏–∏" (–∑–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–æ–Ω—Ç–µ–Ω—Ç)

    createRepaymentSection() {
      return {
        stack: [
          { text: '–î–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–∞—à–µ–Ω–∏–∏', style: 'sectionTitleRepayment' },
          this.createRepaymentBlock()
        ]
      };
    },

    // –≠–ª–µ–º–µ–Ω—Ç —Å –¥–∞–Ω–Ω—ã–º–∏: –∑–∞–∫—Ä—É–≥–ª—ë–Ω–Ω–∞—è —Ä–∞–º–∫–∞ + —Ç–µ–∫—Å—Ç, –ø–æ—Ö–æ–∂–µ –Ω–∞ input

    createDataBlock(text) {
      const padding = [this.converPx(20), this.converPx(12), this.converPx(20), this.converPx(10)]; // [left, top, right, bottom] ‚Üí –∫–∞–∫ padding: 10px 20px
      const blockHeight = this.converPx(40); // –≤—ã—Å–æ—Ç–∞ –±–ª–æ–∫–∞ (–ø–æ–¥–±–µ—Ä–∏—Ç–µ –ø–æ–∑–∂–µ)
      const borderWidth = 1;
      const borderColor = '#c8c8cb';
      const borderRadius = 20;

      return {
        stack: [
          // –†–∞–º–∫–∞
          {
            canvas: [
              {
                type: 'rect',
                x: 0,
                y: 0,
                w: 237, // —à–∏—Ä–∏–Ω–∞ –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ (515 - 24*2 - 24) / 2 ‚âà 237
                h: blockHeight,
                r: borderRadius,
                lineWidth: borderWidth,
                lineColor: borderColor
              }
            ],
            margin: [0, 0, 0, -blockHeight]
          },
          // –¢–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏
          {
            text: text,
            style: 'mortgageValue',
            margin: padding
          }
        ],
        width: 237 // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
      };
    },

    // –ö–æ–Ω—Ç–µ–Ω—Ç "–î–∞–Ω–Ω—ã–µ –æ–± –∏–ø–æ—Ç–µ–∫–µ"

    createMortgageBlock() {
      return {
        stack: [
          {
            columns: [
              {
                width: '*',
                stack: [
                  { text: '–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, ‚ÇΩ', style: 'label' },
                  this.createDataBlock(this.$options.filters.format_decimal_pdf(this.loanAmount))
                ]
              },
              {
                width: '*',
                stack: [
                  { text: '–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è', style: 'label' },
                  this.createDataBlock(`${this.$options.filters.capitalize(this.obj_month[this.startMonth - 1])} ${this.startYear}`)
                ]
              }
            ],
            columnGap: this.converPx(24),
            margin: [0, 0, 0, this.converPx(24)]
          },
          {
            columns: [
              {
                width: '*',
                stack: [
                  { text: '–°—Ç–∞–≤–∫–∞, %', style: 'label' },
                  this.createDataBlock(this.$options.filters.replace_point(this.annualInterestRate))
                ]
              },
              {
                width: '*',
                stack: [
                  { text: '–°—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞', style: 'label' },
                  this.createDataBlock(this.formattedTerm)
                ]
              }
            ],
            columnGap: this.converPx(24),
            margin: [0, 0, 0, this.converPx(24)]
          },
          {
            columns: [
              {
                width: '*',
                stack: [
                  {
                    text: [
                      { text: '–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞: ', style: 'label' },
                      {
                        text: this.state.payment_type === 'annuity' ? '–ê–Ω–Ω—É–∏—Ç–µ—Ç–Ω—ã–π' : '–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π',
                        style: 'valueInline'
                      }
                    ]
                  }
                ]
              }
            ],
            columnGap: this.converPx(24)
          }
        ]
      };
    },

    // –ö–æ–Ω—Ç–µ–Ω—Ç "–î–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–∞—à–µ–Ω–∏–∏"

    createRepaymentBlock() {
      const ri = this.repayment_information;
      const hasEarly = this.array_early_repayment.length > 0;
      const isAnnuity = this.state.payment_type === 'annuity';

      let paymentText = '';
      if (hasEarly) {
        if (ri.monthly_payment_min === ri.monthly_payment_max) {
          paymentText = `${this.$options.filters.format_decimal_pdf(ri.monthly_payment_min)} ‚ÇΩ`;
        } else {
          paymentText = `–æ—Ç ${this.$options.filters.format_decimal_pdf(ri.monthly_payment_max)} –¥–æ ${this.$options.filters.format_decimal_pdf(ri.monthly_payment_min)} ‚ÇΩ`;
        }
      } else {
        if (isAnnuity) {
          paymentText = `${this.$options.filters.format_decimal_pdf(ri.monthly_payment_annuity)} ‚ÇΩ`;
        } else {
          paymentText = `–æ—Ç ${this.$options.filters.format_decimal_pdf(ri.monthly_payment_max)} –¥–æ ${this.$options.filters.format_decimal_pdf(ri.monthly_payment_min)} ‚ÇΩ`;
        }
      }

      const leftStackRow1 = [
        { text: '–í—ã –∑–∞–∫—Ä–æ–µ—Ç–µ –∏–ø–æ—Ç–µ–∫—É', style: 'labelGrey' },
        {
          text: `${this.$options.filters.capitalize(ri.mortgage_closure_month)} ${ri.mortgage_closure_year} –≥–æ–¥–∞`,
          style: ri.if_earlier_month > 0 ? 'valueNoMargin' : 'repaymentValue'
        }
      ];
      if (ri.if_earlier_month > 0) {
        leftStackRow1.push({
          text: `–†–∞–Ω—å—à–µ –Ω–∞ ${ri.if_earlier_month} ${this.getMonthDeclension(ri.if_earlier_month)}`,
          style: 'repaymentValueGreen'
        });
      }

      const row1 = {
        columns: [
          { width: '*', stack: leftStackRow1 },
          {
            width: '*',
            stack: [
              { text: '–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç–µ–∂', style: 'labelGrey' },
              { text: paymentText, style: 'repaymentValue' }
            ]
          }
        ],
        columnGap: this.converPx(24),
        margin: [0, 0, 0, this.converPx(16)]
      };

      const row2 = {
        columns: [
          {
            width: '*',
            stack: [
              { text: '–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥', style: 'labelGrey' },
              { text: `${this.$options.filters.format_decimal_pdf(this.loanAmount)} ‚ÇΩ`, style: 'repaymentValue' }
            ]
          },
          {
            width: '*',
            stack: [
              { text: '–ü—Ä–æ—Ü–µ–Ω—Ç—ã', style: 'labelGrey' },
              { text: `${this.$options.filters.format_decimal_pdf(ri.percentages)} ‚ÇΩ`, style: 'repaymentValue' }
            ]
          }
        ],
        columnGap: this.converPx(24),
        margin: [0, 0, 0, this.converPx(16)]
      };

      const row3Columns = [
        {
          width: '*',
          stack: [
            { text: '–í—Å–µ–≥–æ –∑–∞–ø–ª–∞—Ç–∏—Ç–µ', style: 'labelGrey' },
            { text: `${this.$options.filters.format_decimal_pdf(ri.pay_in_total)} ‚ÇΩ`, style: 'repaymentValue' }
          ]
        }
      ];
      if (hasEarly) {
        row3Columns.push({
          width: '*',
          stack: [
            { text: '–≠–∫–æ–Ω–æ–º–∏—è', style: 'labelGrey' },
            { text: `${this.$options.filters.format_decimal_pdf(ri.savings)} ‚ÇΩ`, style: 'repaymentValueGreenKey' }
          ]
        });
      }

      const row3 = {
        columns: row3Columns,
        columnGap: this.converPx(24)
      };

      return { stack: [row1, row2, row3] };
    },

    // –°–µ–∫—Ü–∏—è "–ò–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã"

    createHolidaysSection() {
      if (this.holidays_term&&this.holidays_term===0) {
        return {text:''}
      }
      // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç—ã
      const startDateText = `${this.$options.filters.capitalize(this.obj_month[this.holidays_date[0].month - 1])} ${this.holidays_date[0].year}`;
      const termText = this.holidays_term;

      return {
        stack: [
          { text: '–ò–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã', style: 'sectionTitle' },
          {
            columns: [
              {
                width: '*',
                stack: [
                  { text: '–ù–∞—á–∞–ª–æ –∫–∞–Ω–∏–∫—É–ª', style: 'label' },
                  this.createDataBlock(startDateText)
                ]
              },
              {
                width: '*',
                stack: [
                  { text: '–°—Ä–æ–∫ –∫–∞–Ω–∏–∫—É–ª, –º–µ—Å.', style: 'label' },
                  this.createDataBlock(termText)
                ]
              }
            ],
            columnGap: this.converPx(24)
          }
        ],
        // –ó–∞–ø—Ä–µ—â–∞–µ–º —Ä–∞–∑—Ä—ã–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Å–µ–∫—Ü–∏–∏
        unbreakable: true
      };
    },

    //–°–µ–∫—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π

    createSheduleBlocks() {
      const blocks = [];
      let holidayCounter = 0; // —Å—á—ë—Ç—á–∏–∫ –±–ª–æ–∫–æ–≤ –∫–∞–Ω–∏–∫—É–ª
      const totalItems = this.shedule.length; // –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

      this.shedule.forEach((item, index) => {
        if (item.isHoliday) { //–±–ª–æ–∫–∏ —Å –∏–ø–æ—Ç–µ—á–Ω—ã–º–∏ –∫–∞–Ω–∏–∫—É–ª–∞–º–∏
          holidayCounter++; //—É–≤–µ–ª–∏—á–∏–≤–∞—é —Å—á—ë—Ç—á–∏–∫
          const blockHeight = holidayCounter === 1 ? 59 : 43; //–≤—ã—Å–æ—Ç–∞ –±–ª–æ–∫–∞ –∏–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã –≤ –≥—Ä–∞—Ñ–∏–∫–µ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –±–ª–æ–∫–∞ 59, –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö 42
          const contentWidth = 515 - 16 - 16; // ‚Üê –≤—Å—è —à–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
          const badgeHeight = this.converPx(20); // –≤—ã—Å–æ—Ç–∞ –ø–ª–∞—à–∫–∏ "–ò–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã"

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π –±–ª–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —Å–µ—Ä–∏–∏ –∫–∞–Ω–∏–∫—É–ª
          const isLastHolidayBlock =
            (index === totalItems - 1) || // –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤–µ
            (!this.shedule[index + 1].isHoliday); // —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –Ω–µ –∫–∞–Ω–∏–∫—É–ª—ã
          blocks.push({
            stack: [
              // –§–æ–Ω –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É
              {
                canvas: [
                  {
                    type: 'rect',
                    x: 0,
                    y: 0,
                    w: contentWidth, // ‚Üê 515pt
                    r: 8,
                    h: blockHeight,
                    color: '#f4f4f4'
                  }
                ],
                margin: [0, 0, 0, -blockHeight]
              },
              // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ –í–ù–£–¢–†–ò
              {
                stack: [
                  //–ø–ª–∞—à–∫–∞ –∏–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã —Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
                  ...(holidayCounter === 1 ? [
                    {
                      stack: [
                        {
                          canvas: [
                            {
                              type: 'rect',
                              x: 0,
                              y: 0,
                              w: this.converPx(135), // —à–∏—Ä–∏–Ω–∞ –ø–ª–∞—à–∫–∏ (–∫–∞–∫ –≤ –º–∞–∫–µ—Ç–µ)
                              h: badgeHeight,
                              r: 4, // —Ä–∞–¥–∏—É—Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è
                              color: '#252628'
                            }
                          ],
                          margin: [0, 0, 0, -badgeHeight]
                        },
                        {
                          text: '–ò–ø–æ—Ç–µ—á–Ω—ã–µ –∫–∞–Ω–∏–∫—É–ª—ã',
                          style: 'holidayBadgeText', // ‚Üê –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å –±–µ–∑ background
                          margin: [this.converPx(8), 4, this.converPx(8), 3] // –æ—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—à–∫–∏
                        }
                      ],
                      margin: [this.converPx(16), 0, this.converPx(16), this.converPx(11)] // –æ—Ç—Å—Ç—É–ø—ã –≤–æ–∫—Ä—É–≥ –ø–ª–∞—à–∫–∏
                    },
                  ] : []),

                  {
                    columns: [
                      {
                        width: 120,
                        stack: [
                          {
                            text: `${this.$options.filters.capitalize(item.nameMonth)} ${item.year}`,
                            style: 'sheduleItemValueDate'
                          }
                        ]
                      },
                      {
                        width: contentWidth - 120, // ‚Üê 515 - 120 - 16 - 16
                        stack: [{ text: '0', style: 'holidayValue' }]
                      }
                    ],
                    margin: [this.converPx(16), holidayCounter === 1 ? 0 : 4, 16, this.converPx(11)] // –≤—Ä–æ–¥–µ –∫–∞–∫ —Ç–æ–∂–µ –æ—Ç—Å—Ç—É–ø—ã –æ—Ç –±–ª–æ–∫–∞ –∏–ø–æ—Ç–µ—á–Ω—ã—Ö –∫–∞–Ω–∏–∫—É–ª
                  }
                ],
                margin: [0, this.converPx(16), 0, this.converPx(16)] //–æ—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ –∏–ø–æ—Ç–µ—á–Ω—ã—Ö –∫–∞–Ω–∏–∫—É–ª
              },
              // ===== –õ–ò–ù–ò–Ø –ü–û–°–õ–ï –ü–û–°–õ–ï–î–ù–ï–ì–û –ë–õ–û–ö–ê –ö–ê–ù–ò–ö–£–õ =====
              ...(isLastHolidayBlock ? [
                {
                  canvas: [
                    {
                      type: 'line',
                      x1: this.converPx(16),
                      y1: 0,
                      x2: 515 - 16 - 16,
                      y2: 0,
                      lineWidth: 1,
                      lineColor: '#f4f4f4'
                    }
                  ],
                  margin: [0, 0, 0, this.converPx(12)] //–æ—Ç—Å—Ç—É–ø—ã –æ—Ç –ª–∏–Ω–∏–∏
                }
              ] : [])
            ],
            unbreakable: true,
            margin: [0, 0, 0, 0] // ‚Üê –ù–ï–¢ –ª–µ–≤–æ–≥–æ –æ—Ç—Å—Ç—É–ø–∞!
          });
        } else {
          // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–ª–∞—Ç—ë–∂
          blocks.push(this.createStandardPaymentBlock(item));

          // –î–û–°–†–û–ß–ù–´–ï –ü–û–ì–ê–®–ï–ù–ò–Ø
          if (item.prepayments && item.prepayments.length > 0) {
            item.prepayments.forEach((product, prepaymentIndex) => {
              // ... –ø—Ä–æ–ø—É—Å–∫ e-notation ...
              blocks.push(this.createEarlyRepaymentBlock(product));
            });

            // ===== –ü–†–û–í–ï–†–ö–ê: —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –¥–æ—Å—Ä–æ—á–Ω—ã–π? =====
            const hasNextItem = index < totalItems - 1;
            const nextItem = hasNextItem ? this.shedule[index + 1] : null;

            const nextItemIsEarly = nextItem &&
              !nextItem.isHoliday &&
              nextItem.prepayments &&
              nextItem.prepayments.length > 0;

            const nextItemIsHoliday = nextItem && nextItem.isHoliday;

            // 1. –õ–ò–ù–ò–Ø –ø–æ—Å–ª–µ –±–ª–æ–∫–∞(–æ–≤) –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ
            blocks.push({
              canvas: [{
                type: 'line',
                x1: this.converPx(16),
                y1: 0,
                x2: 515 - 16 - 16,
                y2: 0,
                lineWidth: 1,
                // –ë–µ–ª–∞—è –ª–∏–Ω–∏—è, –µ—Å–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π ‚Äî –¥–æ—Å—Ä–æ—á–Ω—ã–π –∏–ª–∏ –∫–∞–Ω–∏–∫—É–ª—ã
                lineColor: nextItemIsEarly || nextItemIsHoliday ? '#ffffff' : '#f4f4f4'
              }],
              margin: [
                0,
                this.converPx(12), // –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
                0,
                // üîë –ö–õ–Æ–ß–ï–í–û–ï: –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É ‚Äî –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π ‚Äî –¥–æ—Å—Ä–æ—á–Ω—ã–π
                nextItemIsEarly ? this.converPx(12) : (nextItemIsHoliday ? 0 : this.converPx(12))
              ]
            });
          }
        }
      });

      return {
        stack: blocks
      };
    },

    //–¥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏–µ

    createEarlyRepaymentBlock(product) {
      const blockHeight = 126;
      console.log('blockHeight-');
      console.log(blockHeight);
      const contentWidth = 515 - 16 - 16;
      const badgeHeight = this.converPx(20);
      const fontSize = this.converPx(12); // 12px ‚Üí 9pt
      const paddingHorizontal = this.converPx(8); // 8px ‚Üí 6pt
      const paddingVertical = this.converPx(2); // 2px ‚Üí 1.5pt
      const gap = this.converPx(3); // 4px ‚Üí 3pt

      // –¢–†–ò –§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ï –®–ò–†–ò–ù–´ –í PX
      const BADGE1_WIDTH = this.converPx(143); // "–î–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏–µ" (19 —Å–∏–º–≤–æ–ª–æ–≤)
      const BADGE2A_WIDTH = this.converPx(140); // "–£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞" (18 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–æ —à–∏—Ä–µ –∏–∑-–∑–∞ –±—É–∫–≤)
      const BADGE2B_WIDTH = this.converPx(125); // "–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—Ä–æ–∫–∞" (17 —Å–∏–º–≤–æ–ª–æ–≤)

      // –í—ã–±–∏—Ä–∞–µ–º —à–∏—Ä–∏–Ω—É –≤—Ç–æ—Ä–æ–π –ø–ª–∞—à–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
      const finalWidth2 = product.type === 'payment' ? BADGE2A_WIDTH : BADGE2B_WIDTH;

      // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª–æ–Ω–æ–∫ (–∫–∞–∫ –≤ –æ–±—ã—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö)
      const COL1_WIDTH = 120;
      const COL2_WIDTH = contentWidth - 16 - COL1_WIDTH - 16;
      return {
        stack: [
          // –§–æ–Ω –≤—Å–µ–≥–æ –±–ª–æ–∫–∞
          {
            canvas: [
              {
                type: 'rect',
                x: 0,
                y: 0,
                w: contentWidth,
                r: 8,
                h: blockHeight,
                color: '#f4f4f4'
              }
            ],
            margin: [0, 0, 0, -blockHeight]
          },
          // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ
          {
            stack: [
              // –ü–ª–∞—à–∫–∏ —Å —Ç—Ä–µ–º—è —Ä–∞–∑–Ω—ã–º–∏ —à–∏—Ä–∏–Ω–∞–º–∏
              {
                columns: [
                  {
                    width: 125,
                    stack: [
                      {
                        canvas: [
                          {
                            type: 'rect',
                            x: 0,
                            y: 0,
                            w: BADGE1_WIDTH,
                            h: badgeHeight,
                            r: 4,
                            color: '#daff01'
                          }
                        ],
                        margin: [0, 0, 0, -badgeHeight]
                      },
                      {
                        text: '–î–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏e',
                        fontSize: this.converPx(12),
                        color: '#252628',
                        margin: [paddingHorizontal, 3, 0, 3]
                      }
                    ],
                    margin: [this.converPx(16), 0, 0, 0]
                  },
                  {
                    width: finalWidth2,
                    stack: [
                      {
                        canvas: [
                          {
                            type: 'rect',
                            x: 0,
                            y: 0,
                            w: finalWidth2,
                            h: badgeHeight,
                            r: 4,
                            color: '#fff'
                          }
                        ],
                        margin: [0, 0, 0, -badgeHeight]
                      },
                      {
                        text: product.type === 'payment' ? '–£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞' : '–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—Ä–æ–∫–∞',
                        fontSize: fontSize,
                        color: '#252628',
                        margin: [paddingHorizontal, 3, 0, 3]
                      }
                    ],
                    margin: [0, 0, 0, 0]
                  }
                ],
                // columnGap: gap
              },
              // –î–∞—Ç–∞
              {
                text: `${this.$options.filters.capitalize(product.nameMonth)} ${product.year}`,
                style: 'sheduleItemValueDate',
                margin: [this.converPx(16), this.converPx(12), this.converPx(16), this.converPx(12)]
              },
              // –†—è–¥ 1
              {
                columns: [
                  {
                    width: COL1_WIDTH,
                    stack: [
                      { text: '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å', style: 'sheduleItemLabel' },
                      { text: `${this.$options.filters.format_decimal_pdf(product.remainingBalance)} ‚ÇΩ`, style: 'sheduleItemValue' }
                    ]
                  },
                  {
                    width: COL2_WIDTH,
                    stack: [
                      { text: '–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞', style: 'sheduleItemLabel' },
                      { text: `${this.$options.filters.format_decimal_pdf(product.amount)} ‚ÇΩ`, style: 'sheduleItemValue' }
                    ]
                  }
                ],
                margin: [this.converPx(16), 0, 16, this.converPx(12)]
              },
              // –†—è–¥ 2
              {
                columns: [
                  {
                    width: COL1_WIDTH,
                    stack: [
                      { text: '–ü–æ–≥–∞—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤', style: 'sheduleItemLabel' },
                      { text: '-', style: 'sheduleItemValue' }
                    ]
                  },
                  {
                    width: COL2_WIDTH,
                    stack: [
                      { text: '–ü–æ–≥–∞—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–ª–≥–∞', style: 'sheduleItemLabel' },
                      { text: `${this.$options.filters.format_decimal_pdf(product.amount)} ‚ÇΩ`, style: 'sheduleItemValue' }
                    ]
                  }
                ],
                margin: [this.converPx(16), 0, this.converPx(16), 0]
              }
            ],
            margin: [0, this.converPx(16), 0, this.converPx(16)] //–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã –±–ª–æ–∫–∞ –¥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–æ–≥–∞—à–µ–Ω–∏–µ padding
          }
        ],
        unbreakable: true,
        margin: [0, 0, 0, this.converPx(12)]
      };
    },

    //—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–ª–∞—Ç—ë–∂

    createStandardPaymentBlock(item) {
      return {
        stack: [
          {
            text: `${this.$options.filters.capitalize(item.nameMonth)} ${item.year}`,
            style: 'sheduleItemValueDate',
            margin: [this.converPx(16), 0, this.converPx(16), this.converPx(8)]
          },
          {
            columns: [
              {
                width: 120,
                stack: [
                  { text: '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å', style: 'sheduleItemLabel' },
                  { text: `${this.$options.filters.format_decimal_pdf(item.remainingBalance)} ‚ÇΩ`, style: 'sheduleItemValue' }
                ]
              },
              {
                width: 515 - 16 - 120 - 16,
                stack: [
                  { text: '–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞', style: 'sheduleItemLabel' },
                  { text: `${this.$options.filters.format_decimal_pdf(item.payment)} ‚ÇΩ`, style: 'sheduleItemValue' }
                ]
              }
            ],
            margin: [this.converPx(16), 0, this.converPx(16), this.converPx(8)] //–æ—Ç—Å—Ç—É–ø—ã —Ä—è–¥–∞ –±–ª–æ–∫–∞ –æ–±—ã—á–Ω–æ–≥–æ –ø–ø–ª–∞—Ç–µ–∂–∞
          },
          {
            columns: [
              {
                width: 120,
                stack: [
                  { text: '–ü–æ–≥–∞—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤', style: 'sheduleItemLabel' },
                  { text: `${this.$options.filters.format_decimal_pdf(item.interest)} ‚ÇΩ`, style: 'sheduleItemValue' }
                ]
              },
              {
                width: 515 - 16 - 120 - 16,
                stack: [
                  { text: '–ü–æ–≥–∞—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–ª–≥–∞', style: 'sheduleItemLabel' },
                  { text: `${this.$options.filters.format_decimal_pdf(item.principal)} ‚ÇΩ`, style: 'sheduleItemValue' }
                ]
              }
            ],
            margin: [this.converPx(16), 0, this.converPx(16), 0] //–æ—Ç—Å—Ç—É–ø—ã —Ä—è–¥–∞ –±–ª–æ–∫–∞ –æ–±—ã—á–Ω–æ–≥–æ –ø–ø–ª–∞—Ç–µ–∂–∞
          },
          {
            canvas: [
              {
                type: 'line',
                x1: this.converPx(16),
                y1: 0,
                x2: 515 - 16 - 16,
                y2: 0,
                lineWidth: 1,
                lineColor: '#f4f4f4'
              }
            ],
            margin: [0, this.converPx(12), 0, this.converPx(12)]
          }
        ],
        unbreakable: true,
        margin: [0, 0, 0, 0]
      };
    },
